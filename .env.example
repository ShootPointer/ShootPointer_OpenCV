# ========= 기본 자르기 길이(초) / 최대 클립 수 =========
DEFAULT_PRE=5.0
DEFAULT_POST=5.0
MAX_CLIPS=10

# ========= 자동 후보(오디오) =========
SILENCE_THRESHOLD_DB=-28
SILENCE_MIN_DUR=0.30
AUTO_TOPK=5

# ========= 등번호 감지(OpenCV + Tesseract) =========
JERSEY_SAMPLE_FPS=1.5
JERSEY_MIN_SEG_DUR=1.2
JERSEY_MERGE_GAP=2.0
JERSEY_TESSERACT_PSM=7
JERSEY_TESSERACT_OEM=3
JERSEY_NUM_CONF=0.5
OCR_PSMS=10,8,7
OCR_TRY_INVERT=0
OCR_SCALES=2.0
OCR_TIMEOUT_SEC=5
OCR_MAX_COMBOS=120
OCR_MAX_SEC=8
DEBUG_OCR=0

# ========= 실행/안정화 =========
LOG_LEVEL=INFO
REQUEST_LOG_BODY=false
FFMPEG_TIMEOUT_SEC=120
MAX_UPLOAD_BYTES=838860800

# ========= GPU / 하드웨어 가속 (NVIDIA NVDEC 사용) =========
USE_CUDA=true
CUDA_RESIZE_MAX=1920
FF_HWACCEL=nvdec
FF_HWACCEL_DEVICE=0
FFMPEG_CUT_FALLBACK_REENCODE=1
FFMPEG_THREADS=0
FFMPEG_REENC_VCODEC=libx264
FFMPEG_REENC_PRESET=veryfast
FFMPEG_REENC_CRF=23
FFMPEG_REENC_ACODEC=aac

# ========= 프리사인드 업로드 =========
# AES_GCM_SECRET는 Base64(또는 URL-safe Base64) 또는 64자리 hex 중 하나여야 하며 32바이트 키로 디코드되어야 함
AES_GCM_SECRET=Nrgq06U0uVhC4b8p5Tg1JIHk4mWBUEKxL0ZghS2JcBo=
PRESIGNED_EXPIRES_MIN=30
UPLOAD_DIR=/tmp/uploads
UPLOAD_CHUNK_MAX_MB=200
PLAN_REGISTRY_PY=app/data/registry.py

# CORS (프론트/관리도구 오리진)
ALLOW_ORIGINS=http://tkv0011.ddns.net,http://localhost:3000

# ========= 콜백/백엔드 연동(옵션) =========
BACKEND_SECRET=
CALLBACK_CONNECT_TIMEOUT=30
CALLBACK_READ_TIMEOUT=60
CALLBACK_WRITE_TIMEOUT=60

# ========= Redis / 진행률 =========
REDIS_URL=redis://127.0.0.1:6379/0
PROGRESS_PUBLISH_INTERVAL_SEC=5
PROGRESS_INTERVAL_SEC=5
REDIS_UPLOAD_PROGRESS_CHANNEL=opencv-progress-upload
REDIS_HIGHLIGHT_PROGRESS_CHANNEL=opencv-progress-highlight
REDIS_AI_JOB_QUEUE=opencv-ai-job-queue

# ========= 파일 저장/정적 URL =========
SAVE_ROOT=/data/highlights
STATIC_BASE_URL=https://highlight.shootpointer-highlight-tunnel.store

# ========= 청크 업로드 & AI 워커 연동 (필수 추가) =========
TEMP_ROOT=/app/.tmp/upload_data
CHUNK_STORAGE_ROOT=/app/.tmp/upload_data/chunks
MEMBER_ID=test_user_001
EXTERNAL_BASE_URL=http://fastapi-host:8000/files

# ========= 결과 KV 저장 =========
PUBLISH_RESULT_AS_KV=true
RESULT_KEY_PREFIX=highlight-
RESULT_TTL_SECONDS=86400
RESULT_CALLBACK_BASE_URL=
RESULT_CALLBACK_PATH_TEMPLATE={jobId}

# ========= 하이라이트 발행 정책 =========
PUBLISH_THRESHOLD=2

# ========= FFmpeg 오버레이/출력 튜닝 =========
SHORTS_WIDTH=1080
SHORTS_HEIGHT=1920
DRAW_FONTFILE=/usr/share/fonts/truetype/dejavu/DejaVuSans.ttf
DRAW_FONTSIZE=48
FFMPEG_PRESET=veryfast
FFMPEG_CRF=20
FFMPEG_ABR=128k

# ========= 탐지/정확도 파라미터 =========
SCALE_BASE=960
BALL_HSV_MIN=5,60,60
BALL_HSV_MAX=25,255,255
HOUGH_MIN_LINE_RATIO=0.25
HOUGH_MAX_GAP=20
HOUGH_THRESH=120
HOMO_RANSAC_REPROJ_THRESH=3.0

# ========= AI 데모 자동 실행(선택) =========
AUTO_RUN_AI_DEMO=true
AUTO_AI_DEMO_OVERLAY_TAG=AI-Selector
AUTO_AI_DEMO_MERGE_OUTPUT=true
